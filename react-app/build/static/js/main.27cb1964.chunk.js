(this["webpackJsonp@my-app/react-app"]=this["webpackJsonp@my-app/react-app"]||[]).push([[0],{150:function(e,t){},163:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),r=n(126),s=n.n(r),o=n(180),i=n(11),l=n(70),u={container:"flex justify-center min-h-screen sm:px-16 px-6 bg-site-black",innerContainer:"flex justify-between items-center flex-col max-w-[1280px] w-full",header:"flex flex-row justify-between items-center w-full sm:py-10 py-6",exchangeContainer:"flex-1 flex justify-start items-center flex-col w-full mt-10",headTitle:"text-white font-poppins font-black text-5xl tracking-wide",subTitle:"text-dim-white font-poppins font-medium mt-3 text-base",exchangeBoxWrapper:"mt-10 w-full flex justify-center",exchangeBox:"relative md:max-w-[700px] md:min-w-[500px] min-w-full max-w-full gradient-border p-[2px] rounded-3xl",exchange:"w-full min-h-[400px] bg-site-black backdrop-blur-[4px] rounded-3xl shadow-card flex p-10",amountContainer:"flex justify-between items-center flex-row w-full min-w-full bg-site-dim border-[1px] border-transparent hover:border-site-dim2 min-h-[96px] sm:p-8 p-4 rounded-[20px]",amountInput:"w-full flex-1 bg-transparent outline-none font-poppins font-black text-2xl text-white",currencyButton:"flex flex-row items-center bg-site-dim2 py-2 px-4 rounded-xl font-poppins font-bold text-white",currencyList:"absolute z-10 right-0 bg-site-black border-[1px] border-site-dim2 w-full mt-2 rounded-lg min-w-[170px] overflow-hidden",currencyListItem:"font-poppins font-medium text-base text-white hover:text-dim-white px-5 py-3 hover:bg-site-dim2 cursor-pointer",actionButton:"border-none outline-none px-6 py-2 font-poppins font-bold text-lg rounded-2xl leading-[24px] transition-all min-h-[56px]",message:"font-poppins font-lg text-white font-bold mt-7",walletButton:"bg-site-pink border-none outline-none px-6 py-2 font-poppins font-bold text-lg text-white rounded-3xl leading-[24px] hover:bg-pink-600 transition-all",loader:"flex justify-center items-center flex-col w-full min-h-full",loaderImg:"w-56 h-56 object-contain",loaderText:"font-poppins font-normal text-dim-white text-lg text-center mt-10",balance:"w-full text-left mt-2 ml-2",balanceText:"font-poppins font-normal text-dim-white",balanceBold:"font-semibold text-white"},d=n(1),b=n(12),f=n(109),p=n.n(f),j=n(62),m=n(22),x=n(175),h="0x6E71cfbc04eF15db5CcB942f2e4C78efCDD02833",O={readOnlyChainId:x.a.chainId,readOnlyUrls:Object(m.a)({},x.a.chainId,"https://eth-goerli.g.alchemy.com/v2/Kufu7yc1FLMY6YtDEuXYjAdVcrfSoqLO")},w=n(42);function v(e,t){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(Object(d.a)().mark((function e(t,n){var c,a,r,s,o,i,l,u,b,f,p,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],a=w.a.pair,r=w.a.erc20.abi,s=0;case 4:if(!(s<t.length)){e.next=25;break}return o=t[s],i=new n.eth.Contract(a,t[s]),e.next=9,i.methods.token0().call();case 9:return l=e.sent,e.next=12,i.methods.token1().call();case 12:return u=e.sent,b=new n.eth.Contract(r,l),f=new n.eth.Contract(r,u),e.next=17,b.methods.name().call();case 17:return p=e.sent,e.next=20,f.methods.name().call();case 20:j=e.sent,c.push({address:o,token0Address:l,token1Address:u,token0Name:p,token1Name:j});case 22:++s,e.next=4;break;case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,n){var c,a,r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new n.eth.Contract(w.a.factory,t),e.next=3,c.methods.feeTo().call();case 3:return e.t0=e.sent,e.next=6,c.methods.feeToSetter().call();case 6:return e.t1=e.sent,e.next=9,c.methods.allPairsLength().call();case 9:e.t2=e.sent,e.t3=[],a={feeTo:e.t0,feeToSetter:e.t1,allPairsLength:e.t2,allPairs:e.t3},r=0;case 13:if(!(r<a.allPairsLength)){e.next=20;break}return e.next=16,c.methods.allPairs(r).call();case 16:a.allPairs[r]=e.sent;case 17:r++,e.next=13;break;case 20:return e.next=22,v(a.allPairs,n);case 22:return a.pairsInfo=e.sent,e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,n){var c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new n.eth.Contract(w.a.router02,t),e.next=3,c.methods.factory().call();case 3:return e.t0=e.sent,e.abrupt("return",{factory:e.t0});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=n(35),C=n(96),S=n(31),B=function(e){return"PendingSignature"===e.status||"Mining"===e.status},A=function(e){return"Fail"===e.status||"Exception"===e.status},T=function(e){return"Success"===e.status},L=function(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])},I=function(){var e=Object(b.a)(Object(d.a)().mark((function e(t){var n,c,a,r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new p.a.providers.HttpProvider(t),c=new p.a(n),e.next=4,y(h,c);case 4:return a=e.sent,e.next=7,k(a.factory,c);case 7:return r=e.sent,e.abrupt("return",r.pairsInfo);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=n.p+"static/media/chevron-down.371c0b7e.svg",U=n.p+"static/media/ethereumLogo.a1b9f99b.png",P=n.p+"static/media/uniswapLogo.b1166848.png",M=n(8),F=function(e){var t=e.title;return Object(M.jsxs)("div",{className:u.loader,children:[Object(M.jsx)("img",{src:U,alt:"ethereum logo",className:u.loaderImg}),Object(M.jsx)("p",{className:u.loaderText,children:t})]})},V=n(107),D=n(177),W=n(178),_=n(181),z=n(20),R=function(e){var t=e.value,n=e.onChange,a=e.currencyValue,r=e.onSelect,s=e.currencies,o=e.isSwapping,l=Object(c.useState)(!1),d=Object(i.a)(l,2),b=d[0],f=d[1],p=Object(c.useState)("Select"),j=Object(i.a)(p,2),m=j[0],x=j[1],h=Object(c.useRef)();return L(h,(function(){return f(!1)})),Object(c.useEffect)((function(){Object.keys(s).includes(a)?x(s[a]):x("Select")}),[s,a]),Object(M.jsxs)("div",{className:u.amountContainer,children:[Object(M.jsx)("input",{placeholder:"0.0",type:"number",value:t,disabled:o,onChange:function(e){return"function"===typeof n&&n(e.target.value)},className:u.amountInput}),Object(M.jsxs)("div",{className:"relative",onClick:function(){return f(!b)},children:[Object(M.jsxs)("button",{className:u.currencyButton,children:[m,Object(M.jsx)("img",{src:E,alt:"cheveron-down",className:"w-4 h-4 object-contain ml-2 ".concat(b?"rotate-180":"rotate-0")})]}),b&&Object(M.jsx)("ul",{ref:h,className:u.currencyList,children:Object.entries(s).map((function(e,t){var n=Object(i.a)(e,2),c=n[0],a=n[1];return Object(M.jsx)("li",{className:"".concat(u.currencyListItem," ").concat(m===a?"bg-site-dim2":""," cursor-pointer"),onClick:function(){"function"===typeof r&&r(c),x(a),f(!1)},children:a},t)}))})]})]})},Y=function(e){var t,n=e.fromToken,a=e.toToken,r=e.amountIn,s=e.pairContract,o=e.currencyValue,l=e.onSelect,d=e.currencies,b=Object(c.useState)(!1),f=Object(i.a)(b,2),p=f[0],j=f[1],m=Object(c.useState)("Select"),x=Object(i.a)(m,2),O=x[0],v=x[1],g=Object(c.useRef)(),k=null!==(t=function(e,t,n,c){var a,r=t.gt(Object(S.parseUnits)("0")),s=!!(e&&r&&n&&c),o=null!==(a=Object(C.a)(s&&{contract:new N.b(h,w.a.router02),method:"getAmountsOut",args:[t,[n,c]]}))&&void 0!==a?a:{},i=o.error,l=o.value;return i?Object(S.parseUnits)("0"):null===l||void 0===l?void 0:l.amounts[1]}(s,r,n,a))&&void 0!==t?t:0;return L(g,(function(){return j(!1)})),Object(c.useEffect)((function(){Object.keys(d).includes(o)?v(d[o]):v("Select")}),[o,d]),Object(M.jsxs)("div",{className:u.amountContainer,children:[Object(M.jsx)("input",{placeholder:"0.0",type:"number",value:Object(S.formatUnits)(k),className:u.amountInput,disabled:!0}),Object(M.jsxs)("div",{className:"relative",onClick:function(){return j(!p)},children:[Object(M.jsxs)("button",{className:u.currencyButton,children:[O,Object(M.jsx)("img",{src:E,alt:"cheveron-down",className:"w-4 h-4 object-contain ml-2 ".concat(p?"rotate-180":"rotate-0")})]}),p&&Object(M.jsx)("ul",{ref:g,className:u.currencyList,children:Object.entries(d).map((function(e,t){var n=Object(i.a)(e,2),c=n[0],a=n[1];return Object(M.jsx)("li",{className:u.currencyListItem,onClick:function(){"function"===typeof l&&l(c),v(a),j(!1)},children:a},t)}))})]})]})},q=function(e){var t=e.tokenBalance;return Object(M.jsx)("div",{className:u.balance,children:Object(M.jsx)("p",{className:u.balanceText,children:t?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("span",{className:u.balanceBold,children:"Balance: "}),Object(S.formatUnits)(null!==t&&void 0!==t?t:Object(S.parseUnits)("0"))]}):""})})},J=function(e){var t,n,a=e.pools,r=Object(l.a)().account,s=Object(c.useState)("0"),o=Object(i.a)(s,2),f=o[0],p=o[1],j=Object(c.useState)(a[0].token0Address),m=Object(i.a)(j,2),x=m[0],O=m[1],v=Object(c.useState)(""),g=Object(i.a)(v,2),k=g[0],y=g[1],C=Object(c.useState)(!1),L=Object(i.a)(C,2),I=L[0],E=L[1],U=Object(S.parseUnits)(f||"0"),P=function(e){return e.reduce((function(e,t){return e[t.token0Address]=t.token0Name,e[t.token1Address]=t.token1Name,e}),{})}(a),F=function(e,t){return e.filter((function(e){return e.token0Address===t||e.token1Address})).reduce((function(e,n){return n.token0Address===t?e[n.token1Address]=n.token1Name:n.token1Address===t&&(e[n.token0Address]=n.token0Name),e}),{})}(a,x),J=null!==(t=null===(n=function(e,t,n){if(Array.isArray(e)&&t&&n)return e.find((function(e){return e.token0Address===t&&e.token1Address===n||e.token1Address===t&&e.token0Address===n}))}(a,x,k))||void 0===n?void 0:n.address)&&void 0!==t?t:"",H=new N.b(h,w.a.router02),K=new N.b(x,V.abi),X=Object(D.a)(x,r),G=Object(D.a)(k,r),Q=Object(W.a)(x,r,h)||Object(S.parseUnits)("0"),Z=U.gt(Q),$=U.gt(Object(S.parseUnits)("0")),ee=U.lte(null!==X&&void 0!==X?X:Object(S.parseUnits)("0")),te=Object(_.a)(K,"approve",{transactionName:"onApproveRequested",gasLimitBufferPercentage:10}),ne=te.state,ce=te.send,ae=Object(_.a)(H,"swapExactTokensForTokens",{transactionName:"swapExactTokensForTokens",gasLimitBufferPercentage:10}),re=ae.state,se=ae.send,oe=B(ne),ie=B(re),le=!oe&&Z,ue=!Z&&!ie&&$&&ee,de=function(e,t){if(!B(t)&&!B(e))return T(t)?"Swap executed successfully":T(e)?"Approval successful":void 0}(ne,re),be=function(e,t){if(!B(e)&&!B(t))return A(e)?"Approval failed - "+e.errorMessage:A(t)?"Swap failed - "+t.errorMessage:void 0}(ne,re),fe=Object(c.useState)(null),pe=Object(i.a)(fe,2),je=pe[0],me=(pe[1],function(){var e=Object(b.a)(Object(d.a)().mark((function e(){var t,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.billplz-sandbox.com/api/v3/bills",{mode:"no-cors",method:"POST",headers:{Authorization:"Basic ".concat(btoa("3a49d5d3-9cfd-4d26-a0e1-840957132f21:")),"Content-Type":"application/x-www-form-urlencoded"},body:"collection_id=c68abowy&description=testing bill&email=api@abc.com&name=nama&amount=200&callback_url=http://example.com/webhook/"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(c.useEffect)((function(){(be||de)&&setTimeout((function(){E(!0),p("0"),y("")}),5e3)}),[be,de]),Object(M.jsxs)("div",{className:"flex flex-col w-full items-center",children:[Object(M.jsxs)("div",{className:"mb-8",children:[Object(M.jsx)(R,{value:f,onChange:function(e){var t=e.trim();try{t&&Object(S.parseUnits)(e),p(e)}catch(n){}},currencyValue:x,onSelect:function(e){O(e)},currencies:P,isSwapping:ie&&ee}),Object(M.jsx)(q,{tokenBalance:X})]}),Object(M.jsxs)("div",{className:"mb-8 w-[100%]",children:[Object(M.jsx)(Y,{fromToken:x,toToken:k,amountIn:U,pairContract:J,currencyValue:k,onSelect:function(e){y(e)},currencies:F}),Object(M.jsx)(q,{tokenBalance:G})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:me,className:"".concat(ue?"bg-site-pink text-white":"bg-site-dim2 text-site-dim2"," ").concat(u.actionButton),children:"Create Bill"}),je&&Object(M.jsxs)("p",{children:["Bill created: ",je.id]})]}),Z&&!ie?Object(M.jsx)("button",{disabled:!le,onClick:function(){ce(h,z.a.constants.MaxUint256)},className:"".concat(le?"bg-site-pink text-white":"bg-site-dim2 text-site-dim2"," ").concat(u.actionButton),children:oe?"Approving...":"Approve"}):Object(M.jsx)("button",{disabled:!ue,onClick:function(){se(U,0,[x,k],r,Math.floor(Date.now()/1e3)+1200).then((function(e){p("0")}))},className:"".concat(ue?"bg-site-pink text-white":"bg-site-dim2 text-site-dim2"," ").concat(u.actionButton),children:ie?"Swapping...":ee?"Swap":"Insufficient balance"}),be&&!I?Object(M.jsx)("p",{className:u.message,children:be}):de?Object(M.jsx)("p",{className:u.message,children:de}):""]})},H=n(179),K=n(183),X=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(H.a)().ens,s=Object(l.a)(),o=s.account,d=s.activateBrowserWallet,b=s.deactivate;return Object(c.useEffect)((function(){a(r||(o?Object(K.a)(o):""))}),[o,r,a]),Object(M.jsxs)("button",{onClick:function(){o?b():d()},className:u.walletButton,children:[""===n&&"Connect Wallet",""!==n&&n]})},G=function(){var e=Object(l.a)().account,t=function(){var e=Object(j.a)(),t=e.readOnlyChainId,n=e.readOnlyUrls,a=Object(c.useState)(!0),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)({}),u=Object(i.a)(l,2),d=u[0],b=u[1];return Object(c.useEffect)((function(){I(n[t]).then((function(e){b(e),o(!1)}))}),[n,t]),[s,d]}(),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(M.jsx)("div",{className:u.container,children:Object(M.jsxs)("div",{className:u.innerContainer,children:[Object(M.jsxs)("header",{className:u.header,children:[Object(M.jsx)("img",{src:P,alt:"uniswap-logo",className:"w-16 h-16 object-contain"}),Object(M.jsx)(X,{})]}),Object(M.jsxs)("div",{className:u.exchangeContainer,children:[Object(M.jsx)("h1",{className:u.headTitle,children:"Uniswap 2.0"}),Object(M.jsx)("p",{className:u.subTitle,children:"Exchange tokens in seconds"}),Object(M.jsx)("div",{className:u.exchangeBoxWrapper,children:Object(M.jsxs)("div",{className:u.exchangeBox,children:[Object(M.jsx)("div",{className:"pink_gradient"}),Object(M.jsx)("div",{className:u.exchange,children:e?a?Object(M.jsx)(F,{title:"Loading pools, please wait!"}):Object(M.jsx)(J,{pools:r}):Object(M.jsx)(F,{title:"Please connect your wallet"})}),Object(M.jsx)("div",{className:"blue_gradient"})]})})]})]})})};n(163);s.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(o.a,{config:O,children:Object(M.jsx)(G,{})})}),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.27cb1964.chunk.js.map